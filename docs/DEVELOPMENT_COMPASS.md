# 🧭 Bestea 개발 나침반 (Development Compass)

**작성일:** 2026-02-25  
**최종수정:** 2026-02-25  
**문서 역할:** 개발 방향성 및 주요 기획 변경 트래킹

---

## 📌 핵심 개발 방향 (5 대 과제)

### 1️⃣ Supabase 테이블 상세 정리 및 스키마 픽스

**목표:** 실제 서비스 운영을 위한 견고한 DB 구조 확립

| 테이블 | 주요 작업 | 상태 |
|--------|----------|------|
| `users` | 주소 JSONB 확장, 생년월일, 휴대폰인증 | ⏳ |
| `products` | 3D 모델 URL, 옵션 그룹, 재고관리 | ⏳ |
| `product_options` | 옵션명, 옵션값, 추가금액, 필수여부 | ⏳ |
| `orders` | 주문상태, 배송정보, 결제정보 | ⏳ |
| `order_items` | 주문상품 스냅샷 | ⏳ |
| `quotes` | AI 견적, Before/After 이미지 | ⏳ |
| `reviews` | 별점, 이미지, 구매인증 | ⏳ |
| `qna` | 질문/답변, 비밀글 | ⏳ |
| `claims` | 취소/반품/교환 상태 | ⏳ |
| `wishlists` | 찜하기 목록 | ⏳ |

**마일스톤:**
- [ ] ERD 완성
- [ ] RLS 정책 최종화
- [ ] 인덱스 최적화

---

### 2️⃣ 실제 Supabase API 와 프론트엔드 연동

**목표:** Mock 데이터 → 실데이터 전환

| 영역 | 현재 | 목표 |
|------|------|------|
| **상품목록** | ✅ Supabase 연동됨 | ✅ 완료 |
| **상품상세** | ⏳ 연동중 | Supabase 조회 |
| **장바구니** | ❌ Mock | Supabase CRUD |
| **주문** | ❌ Mock | Supabase + PG 연동 |
| **마이페이지** | ❌ UI 만 | Supabase 조회 |
| **관리자** | ❌ UI 만 | Supabase CRUD |

**마일스톤:**
- [ ] Mock 데이터 완전 제거
- [ ] 에러핸들링 완성
- [ ] 로딩상태 최적화

---

### 3️⃣ 최종 관리자 보완 (Admin Polish)

**목표:** 아버지 (장인) 를 위한 직관적인 UI

| 기능 | 요구사항 | 상태 |
|------|---------|------|
| **큰 글씨** | 40 대 이상 시인성 고려 | ⏳ |
| **높은 대비** | 명도대비 4.5:1 이상 | ⏳ |
| **핵심기능** | 견적/일정 중심 | ⏳ |
| **모바일** | Bottom Nav 최적화 | ⏳ |
| **단축키** | 자주쓰는 기능 1 탭 | ⏳ |

**마일스톤:**
- [ ] 아버지 테스트 (사용성)
- [ ] 피드백 반영
- [ ] 최종 확정

---

### 4️⃣ 실제 상품 및 주문 데이터 기반 상태 변경 로직

**목표:** 실시간 주문/배송 상태 관리

#### 주문 상태 머신
```
pending (결제대기)
  ↓
paid (결제완료)
  ↓
preparing (배송준비)
  ↓
shipped (배송중)
  ↓
delivered (배송완료)
  ↓
completed (거래완료)
```

#### 예외 상태
```
cancelled (취소)
refunded (환불)
exchanged (교환)
returned (반품)
```

**마일스톤:**
- [ ] 상태전환 로직 구현
- [ ] 알림연동 (SMS/이메일)
- [ ] 이력추적 (audit log)

---

### 5️⃣ AR Viewer 추가 모델 최적화

**목표:** 모바일 환경에서 고품질 3D 뷰어

| 항목 | 현재 | 목표 |
|------|------|------|
| **포맷** | glTF/GLB | glTF 2.0 |
| **용량** | 제한없음 | < 5MB |
| **품질** | 기본 | Luma AI 최적화 |
| **로딩** | 순차 | 프리로드/캐싱 |
| **모바일** | 제한적 | iOS/Android 최적화 |

**마일스톤:**
- [ ] Luma AI 연동 테스트
- [ ] 모바일 성능 프로파일링
- [ ] 폴백 (2D 이미지) 구현

---

## 📊 진행 상황 트래킹

### Phase 1 (2026-02-25 ~ 2026-03-03)
```
DB 스키마 픽스: ████████░░ 80%
Supabase 연동: ████░░░░░░ 40%
Admin Polish: ██░░░░░░░░ 20%
```

### Phase 2 (2026-03-04 ~ 2026-03-10)
```
주문상태 로직: ░░░░░░░░░░ 0%
AR 최적화: ░░░░░░░░░░ 0%
PG 연동: ░░░░░░░░░░ 0%
```

---

## 🔄 기획 변경 이력

| 날짜 | 변경사항 | 이유 |
|------|---------|------|
| 2026-02-25 | 문서 생성 | 개발 방향성 정리 |
| - | - | - |

---

## 📝 메모

### 결정사항
1. **Supabase 단일 DB** - 분리없음
2. **모바일 퍼스트** - 70% 모바일 트래픽 예상
3. **아버지 UI 단순화** - 기능 80% 컷

### 미결사항
1. PG 사 선정 (토스/아임포트)
2. SMS Provider (알림톡/문자)
3. Luma AI 유료플랜 여부

---

**이 문서는 주요 기획 변경 시마다 업데이트합니다.**

**최신 버전:** https://github.com/Son0H2/bestea-official/blob/main/docs/DEVELOPMENT_COMPASS.md
