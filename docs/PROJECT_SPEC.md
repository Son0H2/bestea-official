# ğŸ“‹ Bestea í”„ë¡œì íŠ¸ ëª…ì„¸ì„œ

**ë²„ì „:** 1.0  
**ì‘ì„±ì¼:** 2026-02-25  
**ì‘ì„±ì:** ì•„ìš°ë´‡ (Aubot)  
**ê²€í† ì:** ì˜í˜„ (í˜•ë‹˜)

---

## ğŸ¯ 1. ì„œë¹„ìŠ¤ ê°œìš”

### 1.1 ì„œë¹„ìŠ¤ëª…
**BESTEA (ë² ìŠ¤í‹°ì•„)**

### 1.2 ì„œë¹„ìŠ¤ ì„¤ëª…
ì´íƒœë¦¬ ê°€êµ¬ ì „ë¬¸ **ë¦¬í¼ + íŒë§¤ í”Œë«í¼**

- **ë¦¬í¼ ì„œë¹„ìŠ¤:** ì‚¬ì§„ â†’ AI ê²¬ì  â†’ ì£¼ë¬¸
- **í™ˆí¼ë‹ˆì‹±:** í”„ë¦¬ë¯¸ì—„ ê°€êµ¬ íŒë§¤
- **ê´€ë¦¬ì:** ìƒí’ˆ/ì£¼ë¬¸/ê²¬ì  ê´€ë¦¬

### 1.3 íƒ€ê²Ÿ ì‚¬ìš©ì

| í˜ë¥´ì†Œë‚˜ | íŠ¹ì§• | ì£¼ìš” ê¸°ëŠ¥ |
|---------|------|----------|
| **ê³ ê°** | 30-50 ëŒ€, ê°€êµ¬ ë¦¬í¼ ê´€ì‹¬ | AI ê²¬ì , ì£¼ë¬¸, ì¥ë°”êµ¬ë‹ˆ |
| **ì‚¬ì¥ë‹˜** | 1 ì¸ ìš´ì˜ | ìƒí’ˆê´€ë¦¬, ì£¼ë¬¸ì²˜ë¦¬, í†µê³„ |

### 1.4 ê²½ìŸ ì°¨ë³„ì 
- âœ… **AI ê°„í¸ ê²¬ì ** (ì‚¬ì§„ 1 ì¥)
- âœ… **ê³µì¥ ì§ì˜** (ê°€ê²© ê²½ìŸë ¥)
- âœ… **30 ë…„ ì¥ì¸** (ì‹ ë¢°ì„±)

---

## ğŸ“¦ 2. ê¸°ëŠ¥ ëª…ì„¸ì„œ

### 2.1 ì‚¬ìš©ì ê¸°ëŠ¥

#### F1. íšŒì›ê°€ì…/ë¡œê·¸ì¸
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì…ë ¥** | ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ì´ë¦„, íœ´ëŒ€í° |
| **ì²˜ë¦¬** | Supabase Auth íšŒì›ê°€ì…, ì´ë©”ì¼ ì¸ì¦ |
| **ì¶œë ¥** | í”„ë¡œí•„ ìƒì„± (role: customer) |
| **ì˜ˆì™¸** | ì¤‘ë³µ ì´ë©”ì¼, ì•½í•œ ë¹„ë°€ë²ˆí˜¸ |

#### F2. ìƒí’ˆ ëª©ë¡/ìƒì„¸
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì…ë ¥** | ì¹´í…Œê³ ë¦¬ í•„í„°, ì •ë ¬ |
| **ì²˜ë¦¬** | `products` í…Œì´ë¸” ì¡°íšŒ (is_active=true) |
| **ì¶œë ¥** | ìƒí’ˆ ë¦¬ìŠ¤íŠ¸, ìƒì„¸ ì •ë³´ |
| **ì˜ˆì™¸** | ì¬ê³  ì—†ìŒ, ë¹„í™œì„± ìƒí’ˆ |

#### F3. ì¥ë°”êµ¬ë‹ˆ
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì…ë ¥** | ìƒí’ˆ ID, ìˆ˜ëŸ‰ |
| **ì²˜ë¦¬** | `cart_items` í…Œì´ë¸” ì¶”ê°€/ìˆ˜ì • |
| **ì¶œë ¥** | ì¥ë°”êµ¬ë‹ˆ ëª©ë¡, ì´ì•¡ |
| **ì˜ˆì™¸** | ì¬ê³  ë¶€ì¡±, ì¤‘ë³µ ìƒí’ˆ |

#### F4. ì£¼ë¬¸/ê²°ì œ
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì…ë ¥** | ë°°ì†¡ì§€, ê²°ì œìˆ˜ë‹¨ |
| **ì²˜ë¦¬** | `orders` + `order_items` ìƒì„± |
| **ì¶œë ¥** | ì£¼ë¬¸ë²ˆí˜¸, ì£¼ë¬¸ì™„ë£Œ í˜ì´ì§€ |
| **ì˜ˆì™¸** | ê²°ì œì‹¤íŒ¨, ì¬ê³ ë¶€ì¡± |

#### F5. AI ê²¬ì  (ë¦¬í¼)
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì…ë ¥** | ê°€êµ¬ ì‚¬ì§„, ì„œë¹„ìŠ¤ìœ í˜•, ì„¤ëª… |
| **ì²˜ë¦¬** | OpenAI Vision API ë¶„ì„ |
| **ì¶œë ¥** | ì˜ˆìƒê²¬ì  (ê°€ê²©ë²”ìœ„), ë¶„ì„ê²°ê³¼ |
| **ì˜ˆì™¸** | ì´ë¯¸ì§€ì—…ë¡œë“œì‹¤íŒ¨, API ì—ëŸ¬ |

#### F6. ë§ˆì´í˜ì´ì§€
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì…ë ¥** | - |
| **ì²˜ë¦¬** | ì£¼ë¬¸ë‚´ì—­, í”„ë¡œí•„ì¡°íšŒ |
| **ì¶œë ¥** | ì£¼ë¬¸ëª©ë¡, ë°°ì†¡ìƒíƒœ |
| **ì˜ˆì™¸** | ì£¼ë¬¸ë‚´ì—­ì—†ìŒ |

---

### 2.2 ê´€ë¦¬ì ê¸°ëŠ¥

#### A1. ìƒí’ˆ ê´€ë¦¬
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ëŠ¥** | ìƒí’ˆë“±ë¡/ìˆ˜ì •/ì‚­ì œ |
| **ê¶Œí•œ** | role = 'admin' |
| **ì…ë ¥** | ìƒí’ˆëª…, ê°€ê²©, ì¹´í…Œê³ ë¦¬, ì´ë¯¸ì§€, ìƒì„¸ì •ë³´ |
| **ì²˜ë¦¬** | `products` í…Œì´ë¸” CRUD |

#### A2. ì£¼ë¬¸ ê´€ë¦¬
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ëŠ¥** | ì£¼ë¬¸ì¡°íšŒ/ìƒíƒœë³€ê²½ |
| **ê¶Œí•œ** | role = 'admin' |
| **ì…ë ¥** | ì£¼ë¬¸ìƒíƒœ (pending/paid/shipped/delivered) |
| **ì²˜ë¦¬** | `orders` í…Œì´ë¸” ì—…ë°ì´íŠ¸ |

#### A3. ê²¬ì  ê´€ë¦¬
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ëŠ¥** | AI ê²¬ì  ê²€í† /í™•ì • |
| **ê¶Œí•œ** | role = 'admin' |
| **ì…ë ¥** | í™•ì •ê°€ê²©, ì½”ë©˜íŠ¸ |
| **ì²˜ë¦¬** | `quote_requests` í…Œì´ë¸” ì—…ë°ì´íŠ¸ |

#### A4. í†µê³„
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ëŠ¥** | ë§¤ì¶œ, ì£¼ë¬¸, ì¸ê¸°ìƒí’ˆ |
| **ê¶Œí•œ** | role = 'admin' |
| **ì¶œë ¥** | ì°¨íŠ¸ (Recharts) |

---

## ğŸ—„ï¸ 3. DB ìŠ¤í‚¤ë§ˆ

### 3.1 í˜„ì¬ ìŠ¤í‚¤ë§ˆ

```
profiles (ì‚¬ìš©ì)
â”œâ”€â”€ id (PK, FK â†’ auth.users)
â”œâ”€â”€ email
â”œâ”€â”€ full_name
â”œâ”€â”€ phone
â”œâ”€â”€ role (customer/admin)
â””â”€â”€ created_at, updated_at

products (ìƒí’ˆ)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ name
â”œâ”€â”€ price, original_price, discount
â”œâ”€â”€ category
â”œâ”€â”€ description
â”œâ”€â”€ images (array)
â”œâ”€â”€ details (jsonb)
â”œâ”€â”€ stock
â”œâ”€â”€ is_active
â””â”€â”€ created_at, updated_at

cart_items (ì¥ë°”êµ¬ë‹ˆ)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ user_id (FK â†’ profiles)
â”œâ”€â”€ product_id (FK â†’ products)
â”œâ”€â”€ quantity
â””â”€â”€ created_at, updated_at

orders (ì£¼ë¬¸)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ user_id (FK â†’ profiles)
â”œâ”€â”€ order_number (unique)
â”œâ”€â”€ status (pending/paid/shipped/delivered/cancelled)
â”œâ”€â”€ total_amount
â”œâ”€â”€ shipping_address (jsonb)
â”œâ”€â”€ payment_method
â”œâ”€â”€ paid_at, shipped_at, delivered_at, cancelled_at
â””â”€â”€ created_at

order_items (ì£¼ë¬¸í•­ëª©)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ order_id (FK â†’ orders)
â”œâ”€â”€ product_id (FK â†’ products)
â”œâ”€â”€ quantity, price
â””â”€â”€ created_at

quote_requests (ê²¬ì ìš”ì²­)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ user_id (FK â†’ profiles)
â”œâ”€â”€ image_url
â”œâ”€â”€ service_types (array)
â”œâ”€â”€ description
â”œâ”€â”€ ai_analysis (jsonb)
â”œâ”€â”€ status (pending/reviewed/quoted/completed/cancelled)
â”œâ”€â”€ estimated_price_min, estimated_price_max
â””â”€â”€ created_at, updated_at
```

### 3.2 ERD (ê´€ê³„ë„)

```
auth.users â”€â”€â”¬â”€â”€ profiles â”€â”€â”¬â”€â”€ cart_items
             â”‚              â”œâ”€â”€ orders â”€â”€â”¬â”€â”€ order_items
             â”‚              â””â”€â”€ quote_requests
             â”‚
             â””â”€â”€ (Supabase Auth ìë™ê´€ë¦¬)

products â”€â”€â”€â”€â”¬â”€â”€ cart_items
             â””â”€â”€ order_items
```

### 3.3 RLS (Row Level Security)

| í…Œì´ë¸” | ì •ì±… |
|--------|------|
| profiles | ë³¸ì¸ë§Œ ì¡°íšŒ/ìˆ˜ì • |
| products |å…¨å“¡ì¡°íšŒ, admin ë§Œ ìˆ˜ì • |
| cart_items | ë³¸ì¸ë§Œ ì ‘ê·¼ |
| orders | ë³¸ì¸ì¡°íšŒ, admin ì „ì¡°íšŒ |
| quote_requests | ë³¸ì¸ì¡°íšŒ, admin ì „ì¡°íšŒ |

---

## ğŸ”Œ 4. API ì—”ë“œí¬ì¸íŠ¸

### 4.1 í˜„ì¬ êµ¬í˜„ë¨

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ìƒíƒœ |
|--------|------|------|------|
| POST | `/api/analyze` | AI ê²¬ì  | âœ… (mock) |

### 4.2 í•„ìš”í•¨

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|--------|------|------|----------|
| GET | `/api/products` | ìƒí’ˆ ëª©ë¡ | âœ… Supabase ì§ì ‘ì‚¬ìš© |
| GET | `/api/products/[id]` | ìƒí’ˆ ìƒì„¸ | Phase 1 |
| POST | `/api/cart` | ì¥ë°”êµ¬ë‹ˆë‹´ê¸° | Phase 1 |
| GET | `/api/cart` | ì¥ë°”êµ¬ë‹ˆì¡°íšŒ | Phase 1 |
| POST | `/api/orders` | ì£¼ë¬¸ìƒì„± | Phase 2 |
| GET | `/api/orders` | ì£¼ë¬¸ë‚´ì—­ | Phase 2 |
| POST | `/api/quotes` | ê²¬ì ìš”ì²­ | Phase 2 |

---

## ğŸ“… 5. ê°œë°œ ìš°ì„ ìˆœìœ„

### Phase 1 (ì´ë²ˆ ì£¼) - **í•µì‹¬ í”Œë¡œìš°**

| ìš°ì„ ìˆœìœ„ | ê¸°ëŠ¥ | ì˜ˆìƒì‹œê°„ |
|---------|------|---------|
| P0 | ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ | 2 ì‹œê°„ |
| P0 | ì¥ë°”êµ¬ë‹ˆ (ë‹´ê¸°/ì¡°íšŒ) | 3 ì‹œê°„ |
| P1 | ì£¼ë¬¸/ê²°ì œ í”Œë¡œìš° | 4 ì‹œê°„ |
| P1 | ì£¼ë¬¸ë‚´ì—­ (ë§ˆì´í˜ì´ì§€) | 2 ì‹œê°„ |

### Phase 2 (ë‹¤ìŒ ì£¼) - **ë¦¬í¼ ì„œë¹„ìŠ¤**

| ìš°ì„ ìˆœìœ„ | ê¸°ëŠ¥ | ì˜ˆìƒì‹œê°„ |
|---------|------|---------|
| P0 | AI ê²¬ì  (OpenAI ì—°ë™) | 4 ì‹œê°„ |
| P0 | ê²¬ì ìš”ì²­ ê´€ë¦¬ | 3 ì‹œê°„ |
| P1 | ê´€ë¦¬ì ê²¬ì  ê²€í†  | 2 ì‹œê°„ |

### Phase 3 (ì¶”í›„) - **ê´€ë¦¬ì/ìµœì í™”**

| ìš°ì„ ìˆœìœ„ | ê¸°ëŠ¥ | ì˜ˆìƒì‹œê°„ |
|---------|------|---------|
| P2 | ê´€ë¦¬ì í˜ì´ì§€ (ìƒí’ˆê´€ë¦¬) | 4 ì‹œê°„ |
| P2 | ê´€ë¦¬ì í†µê³„ | 3 ì‹œê°„ |
| P3 | ë¦¬ë·°/í‰ì  | 3 ì‹œê°„ |
| P3 | ì•Œë¦¼ (ì´ë©”ì¼/SMS) | 4 ì‹œê°„ |

---

## ğŸ› ï¸ 6. ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ì•¼ | ê¸°ìˆ  |
|------|------|
| **Frontend** | Next.js 16, React 19, TypeScript |
| **UI** | shadcn/ui, Tailwind CSS 4 |
| **Backend** | Supabase (PostgreSQL, Auth, Storage) |
| **AI** | OpenAI Vision API |
| **ë°°í¬** | Vercel |
| **ë„ë©”ì¸** | êµ¬ë§¤ì™„ë£Œ (ì—°ê²°í•„ìš”) |

---

## âœ… 7. ì²´í¬ë¦¬ìŠ¤íŠ¸

### í˜„ì¬ ì™„ë£Œ
- [x] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [x] DB ìŠ¤í‚¤ë§ˆ ìƒì„± (profiles, products, cart, orders, quotes)
- [x] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env.local)
- [x] ìƒí’ˆ ëª©ë¡ Supabase ì—°ë™
- [x] ë¡œê·¸ì¸/íšŒì›ê°€ì… Auth ì—°ë™
- [x] ì—­í•  ê´€ë¦¬ (customer/admin)

### ë‹¤ìŒ ë‹¨ê³„
- [ ] ìƒí’ˆ ìƒì„¸ í˜ì´ì§€
- [ ] ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥
- [ ] ì£¼ë¬¸/ê²°ì œ í”Œë¡œìš°
- [ ] AI ê²¬ì  OpenAI ì—°ë™
- [ ] ê´€ë¦¬ì í˜ì´ì§€

---

## ğŸ“ 8. ë…¸íŠ¸

### ê²°ì •ì‚¬í•­
1. **ì—­í• :** customer (ê¸°ë³¸), admin (ìˆ˜ë™ë¶€ì—¬)
2. **ì´ë©”ì¼ì¸ì¦:** Supabase Auth ê¸°ë³¸ì‚¬ìš©
3. **ê²°ì œ:** ì¶”í›„ ì¶”ê°€ (í˜„ì¬ëŠ” ì£¼ë¬¸ë§Œ)
4. **AI ê²¬ì :** OpenAI GPT-4o Vision

### ë¯¸ê²°ì‚¬í•­
1. ë„ë©”ì¸ ì—°ê²° (Vercel)
2. OpenAI API í‚¤
3. ì‹¤ì œ ìƒí’ˆ ì´ë¯¸ì§€
4. ë°°ì†¡ë¹„ ê³„ì‚° ë¡œì§

---

**ë**
